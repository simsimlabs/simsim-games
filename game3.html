<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì§€ë ì´ í‚¤ìš°ê¸° - ì‹¬ì‹¬í’€ì´ ê²Œì„ ì—°êµ¬ì†Œ</title>
    <meta property="og:type" content="website">
<meta property="og:title" content="ğŸ ì§€ë ì´ í‚¤ìš°ê¸° - ì‹¬ì‹¬í’€ì´ ê²Œì„ ì—°êµ¬ì†Œ">
<meta property="og:description" content="ë¹›ì„ ë¨¹ê³  ê¸¸ì–´ì§€ì„¸ìš”! ê±°ëŒ€í•œ ëª¸ìœ¼ë¡œ ì ì„ í¬ìœ„í•´ì„œ ì“°ëŸ¬ëœ¨ë¦¬ëŠ” ì¾Œê° ì•¡ì…˜.">
<meta property="og:image" content="https://simsimlabs.github.io/simsim-games/thumbnail.png">
<meta property="og:url" content="https://simsimlabs.github.io/simsim-games/game3.html">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2261846676525942" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@400;700&display=swap');

        body { 
            margin: 0; padding: 0; overflow: hidden; background-color: #2d3436; 
            font-family: 'Noto Sans KR', sans-serif; user-select: none; touch-action: none;
        }

        canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; background-color: #2d3436; }
        .game-overlay { pointer-events: none; position: fixed; z-index: 100; }

        #game-ui { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 9999; background: rgba(255, 255, 255, 0.98);
            padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            text-align: center; width: 90%; max-width: 420px; border: 5px solid #6c5ce7;
            pointer-events: auto;
        }

        #game-ui h1 { font-family: 'Jua', sans-serif; font-size: 3rem; color: #6c5ce7; margin: 0 0 10px 0; text-shadow: 2px 2px 0px #a29bfe; }
        #game-ui p { color: #636e72; font-size: 1.1rem; margin-bottom: 20px; }

        #start-btn {
            background: #ff7675; color: white; border: none; padding: 15px 0;
            font-size: 1.8rem; font-family: 'Jua', sans-serif; border-radius: 50px;
            cursor: pointer; box-shadow: 0 6px 0 #d63031; width: 100%; margin-bottom: 15px; transition: transform 0.1s; display: block;
        }
        #start-btn:active { transform: translateY(4px); box-shadow: none; }

        .back-link { display: inline-block; margin-top: 10px; color: #b2bec3; text-decoration: none; cursor: pointer; }
        .back-link:hover { color: #636e72; text-decoration: underline; }

        #leaderboard { top: 15px; right: 15px; background: rgba(0,0,0,0.6); color: white; padding: 15px; border-radius: 10px; font-family: 'Jua', sans-serif; min-width: 160px; }
        #rank-list { list-style: none; padding: 0; margin: 0; font-size: 0.95rem; }
        #rank-list li { margin-bottom: 4px; border-bottom: 1px solid rgba(255,255,255,0.2); }

        #kill-log { bottom: 120px; left: 50%; transform: translateX(-50%); background: rgba(214, 48, 49, 0.9); color: white; padding: 10px 25px; border-radius: 30px; font-weight: bold; opacity: 0; transition: opacity 0.3s; }

        #ingame-ad { position: fixed; bottom: 10px; right: 10px; z-index: 50; background: white; padding: 5px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.2); pointer-events: auto; display: none; }
        .ad-label { font-size: 10px; color: #ccc; text-align: right; display: block; }

        #joystick-zone { position: fixed; bottom: 30px; left: 30px; width: 120px; height: 120px; z-index: 200; display: none; pointer-events: auto; }
        #joystick-bg { width: 100%; height: 100%; background: rgba(255, 255, 255, 0.2); border-radius: 50%; position: relative; border: 2px solid rgba(255,255,255,0.5); }
        #joystick-stick { width: 50px; height: 50px; background: rgba(255, 255, 255, 0.8); border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 10px rgba(0,0,0,0.2); }

        @media (max-width: 600px) {
            #game-ui { width: 85%; }
            #ingame-ad { transform: scale(0.8); transform-origin: bottom right; bottom: 5px; right: 5px; }
            #joystick-zone { display: block; }
        }
    </style>
</head>
<body>

    <canvas id="gameCanvas"></canvas>

    <div id="leaderboard" class="game-overlay">
        <h3>ğŸ† ê¸¸ì´ ìˆœìœ„</h3>
        <ul id="rank-list"><li>ë¡œë”© ì¤‘...</li></ul>
    </div>

    <div id="kill-log" class="game-overlay"></div>

    <div id="joystick-zone">
        <div id="joystick-bg"><div id="joystick-stick"></div></div>
    </div>

    <div id="ingame-ad">
        <span class="ad-label">Sponsored</span>
        <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-2261846676525942" data-ad-slot="4380369066"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <div id="game-ui">
        <h1>ğŸ ì§€ë ì´ í‚¤ìš°ê¸°</h1>
        <p>ë¹›ì„ ë¨¹ê³  ê¸¸ì–´ì§€ì„¸ìš”!<br>ë‹¤ë¥¸ ì§€ë ì´ì˜ ëª¸ì— ë¨¸ë¦¬ë¥¼ ë°•ìœ¼ë©´ ì£½ìŠµë‹ˆë‹¤.</p>
        <div style="margin: 15px 0; min-height: 100px; overflow:hidden;">
             <ins class="adsbygoogle" style="display:block; height: 100px;" data-ad-client="ca-pub-2261846676525942" data-ad-slot="4380369066" data-ad-format="horizontal" data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
        <button id="start-btn">ê²Œì„ ì‹œì‘ â–¶</button>
        <br>
        <a href="index.html" class="back-link">ğŸ  ë©”ì¸ìœ¼ë¡œ ë‚˜ê°€ê¸°</a>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const ui = document.getElementById('game-ui');
        const rankList = document.getElementById('rank-list');
        const killLog = document.getElementById('kill-log');
        const ingameAd = document.getElementById('ingame-ad');
        const startBtn = document.getElementById('start-btn');
        const joystickZone = document.getElementById('joystick-zone');
        const joystickStick = document.getElementById('joystick-stick');

        const MAP_SIZE = 4000;
        const PADDING = 150; // ë²½ íšŒí”¼ ê°ì§€ ê±°ë¦¬ ì¦ê°€
        
        let snakes = [];
        let foods = [];
        let gameRunning = false;
        let animationFrameId;
        
        let playerIndex = -1;
        let inputType = 'mouse';
        let mouseX = 0, mouseY = 0;
        let joystickVector = { x: 0, y: 0 };

        const adjectives = ["ê¿ˆí‹€ëŒ€ëŠ”", "ê¸´", "ì§§ì€", "í™”ë‚œ", "ë°°ê³ í”ˆ", "ë¹›ë‚˜ëŠ”", "íˆ¬ëª…í•œ", "ë¹ ë¥¸", "ëŠë¦°", "ìš©ê°í•œ", "ë¬´ì§€ê°œ", "í™©ê¸ˆ", "ì–´ë‘ ì˜"];
        const nouns = ["ì§€ë ì´", "ë±€", "ì•„ë‚˜ì½˜ë‹¤", "ì½”ë¸Œë¼", "êµ¬ë ì´", "ì¥ì–´", "êµ­ìˆ˜", "ì†Œì„¸ì§€", "ê°€ë˜ë–¡", "ìš°ë™", "ë¼ë©´", "íŒŒìŠ¤íƒ€"];
        function getName() { return adjectives[Math.floor(Math.random()*adjectives.length)] + " " + nouns[Math.floor(Math.random()*nouns.length)]; }

        document.addEventListener('DOMContentLoaded', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            if(startBtn) startBtn.addEventListener('click', startGame);
            mouseX = window.innerWidth/2; mouseY = window.innerHeight/2;
            initJoystick();
            window.addEventListener('mousemove', e => { if(inputType!=='joystick') { mouseX=e.clientX; mouseY=e.clientY; } });
            window.addEventListener('mousedown', () => inputType='mouse');
            window.addEventListener('resize', () => { canvas.width=window.innerWidth; canvas.height=window.innerHeight; });
        });

        function startGame() {
            if (animationFrameId) cancelAnimationFrame(animationFrameId);
            
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#2d3436';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            gameRunning = true;
            snakes = [];
            foods = [];

            for(let i=0; i<1000; i++) addFood();
            playerIndex = addSnake(true);
            for(let i=0; i<30; i++) addSnake(false);

            ui.style.display = 'none';
            ingameAd.style.display = 'block';
            loop();
        }

        function addSnake(isHuman) {
            let x = Math.random() * (MAP_SIZE - 400) + 200;
            let y = Math.random() * (MAP_SIZE - 400) + 200;
            let color = isHuman ? '#e74c3c' : `hsl(${Math.random()*360}, 70%, 60%)`;
            
            snakes.push({
                isHuman: isHuman,
                x: x, y: y,
                angle: Math.random() * Math.PI * 2,
                speed: 3, radius: 10, length: 10,
                body: [], color: color,
                name: isHuman ? 'ë‚˜ (Player)' : getName(),
                score: 0, dead: false, 
                aiTargetAngle: 0, 
                aiTimer: 0,
                turnSpeed: 0.1 // íšŒì „ ì†ë„ (AIëŠ” ìƒí™©ì— ë”°ë¼ ë³€í•¨)
            });
            
            let s = snakes[snakes.length-1];
            for(let i=0; i<20; i++) s.body.push({x: x, y: y});
            return snakes.length - 1;
        }

        function addFood(x, y, value=1) {
            foods.push({
                x: x || Math.random() * MAP_SIZE,
                y: y || Math.random() * MAP_SIZE,
                r: value > 1 ? 6 : 3,
                color: `hsl(${Math.random()*360}, 100%, 70%)`,
                value: value
            });
        }

        function initJoystick() {
            let stick = joystickStick;
            let zone = joystickZone;
            let maxDist = 35; let active = false;
            
            zone.addEventListener('touchstart', e => {
                e.preventDefault(); active=true; inputType='joystick';
                let t = e.touches[0];
                let rect = zone.getBoundingClientRect();
                updateStick(t.clientX, t.clientY, rect.left+rect.width/2, rect.top+rect.height/2);
            }, {passive:false});

            zone.addEventListener('touchmove', e => {
                if(!active) return;
                e.preventDefault();
                let t = e.touches[0];
                let rect = zone.getBoundingClientRect();
                updateStick(t.clientX, t.clientY, rect.left+rect.width/2, rect.top+rect.height/2);
            }, {passive:false});

            zone.addEventListener('touchend', e => {
                e.preventDefault(); active=false;
                stick.style.transform = `translate(-50%, -50%)`;
                joystickVector = {x:0, y:0};
            });

            function updateStick(clientX, clientY, centerX, centerY) {
                let dx = clientX - centerX;
                let dy = clientY - centerY;
                let dist = Math.sqrt(dx*dx + dy*dy);
                if(dist > maxDist) { dx = (dx/dist)*maxDist; dy = (dy/dist)*maxDist; }
                stick.style.transform = `translate(calc(-50% + ${dx}px), calc(-50% + ${dy}px))`;
                joystickVector = {x: dx, y: dy};
            }
        }

        function loop() {
            if(!gameRunning) return;

            ctx.fillStyle = '#2d3436';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            let player = snakes[playerIndex];
            let zoom = 1;
            if(player && !player.dead) zoom = Math.max(0.5, 20 / (player.radius + 10));

            ctx.save();
            ctx.translate(canvas.width/2, canvas.height/2);
            ctx.scale(zoom, zoom);
            if(player && !player.dead) ctx.translate(-player.x, -player.y);
            else ctx.translate(-MAP_SIZE/2, -MAP_SIZE/2);

            ctx.strokeStyle = '#3d4a4d'; ctx.lineWidth = 2; ctx.beginPath();
            for(let x=0; x<=MAP_SIZE; x+=200) { ctx.moveTo(x,0); ctx.lineTo(x,MAP_SIZE); }
            for(let y=0; y<=MAP_SIZE; y+=200) { ctx.moveTo(0,y); ctx.lineTo(MAP_SIZE,y); }
            ctx.stroke();
            ctx.strokeStyle = '#ff7675'; ctx.lineWidth = 10; ctx.strokeRect(0,0,MAP_SIZE,MAP_SIZE);

            for(let i=foods.length-1; i>=0; i--) {
                let f = foods[i];
                if(player && !player.dead && (Math.abs(f.x - player.x) > canvas.width/zoom && Math.abs(f.y - player.y) > canvas.height/zoom)) continue;
                ctx.beginPath(); ctx.arc(f.x, f.y, f.r, 0, Math.PI*2);
                ctx.fillStyle = f.color; 
                ctx.shadowBlur = 10; ctx.shadowColor = f.color;
                ctx.fill(); ctx.shadowBlur = 0;
            }

            snakes.forEach((s, index) => {
                if(s.dead) return;

                let targetAngle = s.angle;
                s.turnSpeed = 0.1; // ê¸°ë³¸ íšŒì „ ì†ë„

                if(s.isHuman) {
                    if(inputType === 'joystick' && (joystickVector.x !== 0 || joystickVector.y !== 0)) {
                        targetAngle = Math.atan2(joystickVector.y, joystickVector.x);
                    } else {
                        let dx = mouseX - canvas.width/2;
                        let dy = mouseY - canvas.height/2;
                        targetAngle = Math.atan2(dy, dx);
                    }
                } else {
                    // --- í–¥ìƒëœ AI ë¡œì§ ---
                    s.aiTimer--;
                    if(s.aiTimer <= 0) {
                        s.aiTimer = 5; // ë¹ ë¥¸ íŒë‹¨

                        // 1. ìœ„í˜‘ ê°ì§€ (ë²½, ë‹¤ë¥¸ ë±€)
                        let danger = false;
                        let lookAheadDist = 200; // ê°ì§€ ê±°ë¦¬ ì¦ê°€
                        let checkX = s.x + Math.cos(s.angle) * lookAheadDist;
                        let checkY = s.y + Math.sin(s.angle) * lookAheadDist;

                        // ë²½ ì²´í¬
                        if(checkX < PADDING || checkX > MAP_SIZE - PADDING || checkY < PADDING || checkY > MAP_SIZE - PADDING) {
                            s.aiTargetAngle = Math.atan2(MAP_SIZE/2 - s.y, MAP_SIZE/2 - s.x);
                            s.turnSpeed = 0.3; // ë²½ ì•ì—ì„œëŠ” ê¸‰ì»¤ë¸Œ
                            danger = true;
                        }

                        // ë‹¤ë¥¸ ë±€ ì²´í¬
                        if(!danger) {
                            for(let other of snakes) {
                                if(s === other || other.dead) continue;
                                // ìµœì í™”: ê±°ë¦¬ ì²´í¬
                                if (Math.abs(s.x - other.x) > 300 || Math.abs(s.y - other.y) > 300) continue;

                                for(let i=0; i<other.body.length; i+=5) {
                                    let bp = other.body[i];
                                    if(Math.hypot(checkX - bp.x, checkY - bp.y) < s.radius + other.radius + 40) {
                                        // ì¶©ëŒ ìœ„í—˜! 
                                        s.aiTargetAngle = s.angle + Math.PI / 1.5; // í¬ê²Œ íšŒí”¼
                                        s.turnSpeed = 0.4; // ì•„ì£¼ ê¸‰í•˜ê²Œ êº¾ê¸°
                                        danger = true;
                                        break;
                                    }
                                }
                                if(danger) break;
                            }
                        }

                        // 2. ë¨¹ì´ ì°¾ê¸°
                        if(!danger) {
                            let closest = null;
                            let minDist = 500;
                            
                            for(let f of foods) {
                                let dist = Math.hypot(s.x - f.x, s.y - f.y);
                                if(dist < minDist) {
                                    // ì‹œì•¼ê° ì²´í¬ (ë‚´ ì§„í–‰ë°©í–¥ +- 90ë„ ì•ˆìª½ë§Œ)
                                    let angleToFood = Math.atan2(f.y - s.y, f.x - s.x);
                                    let angleDiff = Math.abs(angleToFood - s.angle);
                                    if(angleDiff > Math.PI) angleDiff = Math.PI*2 - angleDiff;
                                    
                                    if(angleDiff < Math.PI / 1.5) {
                                        minDist = dist;
                                        closest = f;
                                    }
                                }
                            }

                            if(closest) {
                                s.aiTargetAngle = Math.atan2(closest.y - s.y, closest.x - s.x);
                            } else {
                                if(Math.random() < 0.05) s.aiTargetAngle += (Math.random() - 0.5);
                            }
                        }
                    }
                    targetAngle = s.aiTargetAngle;
                }

                // ë¶€ë“œëŸ¬ìš´ íšŒì „ ì ìš©
                let diff = targetAngle - s.angle;
                while (diff <= -Math.PI) diff += Math.PI*2;
                while (diff > Math.PI) diff -= Math.PI*2;
                s.angle += diff * (s.turnSpeed || 0.1);

                // ì†ë„ ê°ì†Œ (ê¸°ì¡´ 4 -> 2.5)
                let speed = 2.5 + (10 / (s.length + 10)); // ê¸¸ì–´ì§ˆìˆ˜ë¡ ì•„ì£¼ ì¡°ê¸ˆ ëŠë ¤ì§
                s.x += Math.cos(s.angle) * speed;
                s.y += Math.sin(s.angle) * speed;

                s.x = Math.max(0, Math.min(MAP_SIZE, s.x));
                s.y = Math.max(0, Math.min(MAP_SIZE, s.y));

                s.body.unshift({x: s.x, y: s.y});
                let neededLength = s.length * 4; 
                while(s.body.length > neededLength) s.body.pop();

                // ë¨¹ì´ ë¨¹ê¸°
                for(let i=foods.length-1; i>=0; i--) {
                    let f = foods[i];
                    if(Math.hypot(s.x-f.x, s.y-f.y) < s.radius + f.r) {
                        s.length += f.value * 0.5;
                        s.radius = Math.min(25, 10 + s.length * 0.05);
                        s.score += Math.floor(f.value * 10);
                        foods.splice(i, 1);
                        if(Math.random() < 0.3) addFood();
                    }
                }

                // ê·¸ë¦¬ê¸°
                ctx.lineCap = 'round'; ctx.lineJoin = 'round';
                for(let i=s.body.length-1; i>=0; i-=4) {
                    let p = s.body[i];
                    ctx.beginPath(); ctx.arc(p.x, p.y, s.radius, 0, Math.PI*2);
                    ctx.fillStyle = s.color; ctx.fill();
                }
                
                ctx.beginPath(); ctx.arc(s.x, s.y, s.radius + 2, 0, Math.PI*2);
                ctx.fillStyle = '#fff'; ctx.fill();
                ctx.beginPath(); ctx.arc(s.x, s.y, s.radius, 0, Math.PI*2);
                ctx.fillStyle = s.color; ctx.fill();

                ctx.fillStyle = 'white'; ctx.font = 'bold 12px Noto Sans KR'; ctx.textAlign = 'center';
                ctx.fillText(s.name, s.x, s.y - s.radius - 10);

                // --- ì¶©ëŒ ê²€ì‚¬ ìˆ˜ì • (ì •ë°€ë„ í–¥ìƒ) ---
                snakes.forEach(other => {
                    if(s.dead || other.dead) return;
                    if(s === other) return;
                    
                    // ìµœì í™”: ë„ˆë¬´ ë¨¼ ì ì€ ê²€ì‚¬ ì•ˆ í•¨
                    if(Math.abs(s.x - other.x) > 500 || Math.abs(s.y - other.y) > 500) return;

                    // i+=5 ì˜€ë˜ ê²ƒì„ i+=1ë¡œ ë³€ê²½í•˜ì—¬ ë¹ˆí‹ˆì—†ëŠ” ì¶©ëŒ ê²€ì‚¬
                    for(let i=0; i<other.body.length; i+=2) { // 2í”„ë ˆì„ ê°„ê²©ìœ¼ë¡œ ê²€ì‚¬ (ì¶©ë¶„íˆ ì •ë°€í•¨)
                        let bp = other.body[i];
                        // ê±°ë¦¬ < ë‘ ì§€ë ì´ ë°˜ì§€ë¦„ì˜ í•©
                        if(Math.hypot(s.x - bp.x, s.y - bp.y) < s.radius + other.radius - 2) {
                            killSnake(index); 
                            return; 
                        }
                    }
                });
            });

            ctx.restore();
            if(foods.length < 500) addFood();
            updateLeaderboard();
            animationFrameId = requestAnimationFrame(loop);
        }

        function killSnake(idx) {
            let s = snakes[idx];
            s.dead = true;
            for(let i=0; i<s.body.length; i+=3) addFood(s.body[i].x, s.body[i].y, 2);

            if(s.isHuman) gameOver(s.name);
            else {
                showKillLog(`${s.name} ì‚¬ë§!`);
                setTimeout(() => { if(gameRunning) { snakes.splice(idx, 1); addSnake(false); } }, 2000);
            }
        }

        function showKillLog(msg) {
            killLog.innerText = msg; killLog.style.opacity = 1;
            setTimeout(() => { killLog.style.opacity = 0; }, 2000);
        }

        function updateLeaderboard() {
            let list = [...snakes].filter(s => !s.dead).sort((a,b) => b.length - a.length);
            let html = '';
            for(let i=0; i<Math.min(5, list.length); i++) {
                let s = list[i];
                let name = s.isHuman ? `<span style="color:#fd79a8">${s.name}</span>` : s.name;
                html += `<li>${i+1}. ${name} <small>(${Math.floor(s.length)})</small></li>`;
            }
            rankList.innerHTML = html;
        }

        function gameOver(killerName) {
            gameRunning = false;
            cancelAnimationFrame(animationFrameId);
            ingameAd.style.display = 'none';
            ui.style.display = 'block';
            
            const btn = document.getElementById('start-btn');
            btn.innerText = "ë³µìˆ˜í•˜ëŸ¬ ê°€ê¸°! (ì¬ì‹œì‘)";
            ui.querySelector('h1').innerText = "ğŸ’€ ê²Œì„ ì˜¤ë²„";
            ui.querySelector('p').innerHTML = `
                ë‹¤ë¥¸ ì§€ë ì´ì—ê²Œ ë¶€ë”ªí˜”ìŠµë‹ˆë‹¤.<br>
                ìµœì¢… ê¸¸ì´: <span style="color:#6c5ce7; font-weight:bold;">${Math.floor(snakes[playerIndex].length)}</span>
            `;
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    /* ê³µìœ  ì»¨í…Œì´ë„ˆ: í™”ë©´ í•˜ë‹¨ ì¤‘ì•™ì— ê³ ì • */
    .game-share-wrapper {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(30, 30, 40, 0.85); /* ë°˜íˆ¬ëª… ê²€ì • ë°°ê²½ */
        padding: 12px 25px;
        border-radius: 50px;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        gap: 15px;
        z-index: 9999;
        box-shadow: 0 5px 20px rgba(0,0,0,0.4);
    }

    .share-label {
        color: #fff;
        font-size: 0.9rem;
        font-weight: bold;
        margin-right: 5px;
        white-space: nowrap;
    }

    .share-btn-group {
        display: flex;
        gap: 10px;
    }

    .share-icon-btn {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        border: none;
        color: white;
        font-size: 1rem;
        cursor: pointer;
        transition: transform 0.2s, background-color 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .share-icon-btn:hover { transform: translateY(-3px); }
    
    /* ê° ë²„íŠ¼ ìƒ‰ìƒ */
    .bg-twitter { background-color: #1DA1F2; }
    .bg-facebook { background-color: #1877F2; }
    .bg-link { background-color: #6c5ce7; }

    /* í† ìŠ¤íŠ¸ ë©”ì‹œì§€ (ë³µì‚¬ ì•Œë¦¼) */
    #copy-toast {
        visibility: hidden;
        min-width: 250px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 4px;
        padding: 16px;
        position: fixed;
        z-index: 10000;
        left: 50%;
        bottom: 80px; /* ê³µìœ  ë²„íŠ¼ë³´ë‹¤ ìœ„ì— ëœ¸ */
        transform: translateX(-50%);
        font-size: 0.9rem;
        opacity: 0;
        transition: opacity 0.5s, bottom 0.5s;
    }

    #copy-toast.show {
        visibility: visible;
        opacity: 1;
        bottom: 90px;
    }
    
    /* ëª¨ë°”ì¼ ëŒ€ì‘ */
    @media (max-width: 500px) {
        .share-label { display: none; } /* í™”ë©´ ì¢ìœ¼ë©´ ê¸€ì ìˆ¨ê¹€ */
        .game-share-wrapper { padding: 10px; }
    }
</style>

<div class="game-share-wrapper">
    <span class="share-label">ğŸ“¢ ì¹œêµ¬ì™€ ê³µìœ í•˜ê¸°</span>
    <div class="share-btn-group">
        <button onclick="shareTo('twitter')" class="share-icon-btn bg-twitter" title="íŠ¸ìœ„í„°">
            <i class="fa-brands fa-twitter"></i>
        </button>
        <button onclick="shareTo('facebook')" class="share-icon-btn bg-facebook" title="í˜ì´ìŠ¤ë¶">
            <i class="fa-brands fa-facebook-f"></i>
        </button>
        <button onclick="copyLink()" class="share-icon-btn bg-link" title="ë§í¬ ë³µì‚¬">
            <i class="fa-solid fa-link"></i>
        </button>
    </div>
</div>

<div id="copy-toast">ğŸ“‹ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

<script>
    function shareTo(sns) {
        const url = encodeURIComponent(window.location.href);
        const title = encodeURIComponent(document.title);
        let link = "";

        if (sns === 'twitter') {
            link = `https://twitter.com/intent/tweet?text=${title}&url=${url}`;
        } else if (sns === 'facebook') {
            link = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
        }
        
        if(link) window.open(link, '_blank', 'width=600,height=400');
    }

    function copyLink() {
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
            const toast = document.getElementById("copy-toast");
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }).catch(err => {
            alert("ë³µì‚¬ ì‹¤íŒ¨: " + err);
        });
    }
</script>

<style>
    #game-desc-box {
        position: fixed; top: 50%; left: 30px; transform: translateY(-50%);
        width: 300px; background: rgba(20, 20, 30, 0.7); backdrop-filter: blur(8px);
        padding: 25px; border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.1);
        color: #ecf0f1; text-align: left; line-height: 1.5; z-index: 999;
        box-shadow: 0 10px 30px rgba(0,0,0,0.4); transition: opacity 0.3s ease;
    }
    .desc-title { color: #fab1a0; margin: 0 0 15px 0; font-size: 1.1rem; border-bottom: 2px solid rgba(255,255,255,0.1); padding-bottom: 10px; display: flex; justify-content: space-between; }
    .close-desc-btn { background: none; border: none; color: #dfe6e9; font-size: 1.2rem; cursor: pointer; padding: 0; }
    .desc-list { margin: 0; padding-left: 20px; font-size: 0.9rem; color: #dfe6e9; }
    .desc-list li { margin-bottom: 8px; }
    .desc-tip { margin-top: 15px; font-size: 0.85rem; color: #74b9ff; background: rgba(0, 0, 0, 0.3); padding: 10px; border-radius: 8px; }
    @media (max-width: 1100px) {
        #game-desc-box { top: auto; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 500px; padding: 20px; }
    }
</style>

<div id="game-desc-box">
    <h3 class="desc-title">ğŸ’¡ ì§€ë ì´ í‚¤ìš°ê¸° ê³µëµ <button class="close-desc-btn" onclick="hideGameDesc()">Ã—</button></h3>
    <p style="font-size: 0.9rem; margin-bottom: 15px;">ë¹›ì„ ë¨¹ê³  ëª¸ê¸¸ì´ë¥¼ ëŠ˜ë¦¬ì„¸ìš”.</p>
    <ul class="desc-list">
        <li><strong>ì´ë™:</strong> ë§ˆìš°ìŠ¤ ì»¤ì„œ ë°©í–¥</li>
    </ul>
    <div class="desc-tip">âœ¨ <strong>Tip:</strong> ì ì„ ë‘¥ê¸€ê²Œ í¬ìœ„í•´ì„œ ê°€ë‘ë©´ ì‰½ê²Œ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
</div>

<script>
    function hideGameDesc() { const box = document.getElementById('game-desc-box'); if(box) box.style.display = 'none'; }
    document.addEventListener('click', function(e) {
        if ((e.target.tagName === 'BUTTON' || e.target.closest('button')) && !e.target.classList.contains('close-desc-btn')) hideGameDesc();
        if (e.target.tagName === 'CANVAS') hideGameDesc();
    });
</script>
    
</body>
</html>




